<ion-header>
  <ion-toolbar>
    <ion-title>
      Recieved Mails
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding [fullscreen]="true" (tap)="tapEvent()">
  <div class="base-div" (swipe)="changeTab($event)">
    <ion-list>
      <ion-item *ngFor="let mail of received_mails; let idx = index" [class.active-item]="mail.id==active_mail.id" (click)="changeActive(idx,mail.id)">
          <ion-avatar slot="start">
            <text-avatar [text]="mail.from"></text-avatar>
          </ion-avatar>   
          <ion-label>
            <ion-text>
              <h3><strong>{{ mail.from }}</strong></h3>
            </ion-text>
            <p>{{ mail.subject }}</p>
            <p>{{ mail.snippet }}</p>
          </ion-label>
        </ion-item>
    </ion-list>

    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content loading-spinner="bubbles" loading-text="Loading more mails..."></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>
</ion-content>
